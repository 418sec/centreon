===========
Les options
===========

Les options permettent de modifier les paramètres de l'architecture Centreon.

********
Centreon
********

Cette partie traite de la configuration des options générales de Centreon.

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **Centreon**

La fenêtre suivante s'affiche :

.. image :: /images/guide_exploitation/ecentreon.png
   :align: center

* Le champ **Répertoire** désigne le répertoire dans lequel Centreon est installé
* Le champ **Répertoire Web de Centreon** indique le répertoire web sur lequel est installé Centreon
* Le champ **Limite par page (par défaut)** définit le nombre d'objet affiché par page de configuration
* Le champ **Limite par page pour les pages de supervision** définit le nombre d'objet affiché par page au sein du menu **Supervision**
* Le champ **Durée d'expiration de la session** est exprimé en minutes indique la durée maximale d'une session 
* Le champ **Intervalle de rafraîchissement** est exprimé en secondes et indique l'intervalle de rafraichissement pour les objets
* Le champ **Intervalle de rafraîchissement pour la page des statistiques** est exprimé en secondes et indique l'intervalle de rafraichissement pour les objets de la page statistique
* Le champ **Intervalle de rafraîchissement pour la page de supervision** est exprimé en secondes et indique l'intervalle de rafraichissement pour les objets de la page supervision
* Le champ **Délai du premier rafraîchissement pour la page des statistiques** est exprimé en secondes et indique le délai de rafrachissement pour la page des statistiques
* Le champ **Délai du premier rafraîchissement pour la page de supervision** est exprimé en secondes et indique le délai de rafrachissement pour la page des supervision
* Le champ **Utiliser le modèle** indique le thème à utiliser pour l'interface web de Centreon
* Le champ **Sort problems by** [ TODO : à appliquer mais chaine traduite] permet de choisir comment afficher les différents problèmes dans le menu **Supervision**
* Le champ **Order sort problems** [ TODO : à appliquer mais chaine traduite] indique l'ordre d'affichage des problèmes
* Le case **Activer la connexion automatique** permet d'activer la connexion automatique
* Le case **Afficher le raccourci de connexion automatique** permet d'afficher le raccourci de connexion en haut à droite
* Le case **Enable SSO authentication** [ TODO : Traduction] active l'authentification SSO
* Le champ **SSO mode** [ TODO : Traduction] indique si l'authentification doit avoir lieu uniquement par SSO ou bien en utilisant l'authentification locale également
* Le champ **SSO trusted client addresses** [ TODO : Traduction] indique quels sont les clients de confiance pour le SSO. Chaque client de confiance est séparée par une virgule
* Le champ **SSO login header** [ TODO : Traduction] indique la variable de l'en-tête qui sera utilisé comme login.
* Le case **Activer la gestion des décalages horaire** active la gestion du décalage horaire
* Le champ **Timezone par défaut de l'hôte** permet de définit un timezone par défaut [ TODO comment ça marche ?]
* Si la case **Enable strict mode for host partnership management** est cochée, alors les hôtes ne peuvent pas définir de liens de parenté avec un hôte n'appartenant pas au même poller qu'eux
* Le champ **Centreon Support Email** indique l'adresse email de support pour Centreon. Cette adresse email sera affichée en bas de page sur le lien **Help Desk** [ TODO : Besoin de traduction ?]

***********
Supervision
***********

Cette partie traite des options de supervision des objets.

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **Supervision**

.. image :: /images/guide_exploitation/esupervision.png
   :align: center

* La liste **Moteur par défaut** définit l'ordonnanceur par défaut
* Le champ **Unité de temps de référence** indique l'intervalle de temps en seconde utilisé pour planifier les contrôles et les notifications
* Le champ **Répertoire des images** définit le répertoire d'image
* Le champ **Répertoire des sondes** définit le répertoire où se situe les sondes
* La liste **Broker utilisé par Centreon** contient le broker utilisé par Centreon
* Le champ **Script de démarrage du broker** contient le chemin vers le script de démarrage du broker
* Le champ **Chemin complet de l'exécutable** contient le chemin vers l'exécutable permettant d'envoyer des mails
* Les listes **Nombre maximum d'hôtes à afficher** et **Nombre maximum de services à afficher** contiennent le nombre maximal d'hôte ou de services à afficher dans la vue d'ensemble
* Le champ **Intervalle de rafraîchissement de la page** définit l'intervalle de rafraichissement des données dans la vue d'ensemble
* Les cases contenues dans les catégories **Options d'acquittement par défaut** et **Options de temps d'arrêt par défaut** définissent les options par défaut qui seront cochées ou non lors de la définition d'un acquittement ou d'un temps d'arrêt
* Le champ **Durée** permet de définir la durée par défaut d'un temps d'arrêt

********
CentCore
********

Cette partie permet de paramétrer le fonctionnement de CentCore.

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **CentCore**

.. image :: /images/guide_exploitation/ecentcore.png
   :align: center

* Le champ **Enable Perfdata Synchronisation** active la synchronisation des données de performances entre le serveur central et les serveurs satellites
* Le champ **Enable Logs Synchronisation** active la synchronisation des journaux entre le serveur central et les serveurs satellites
* Le champ **Enable Broker Statistics Collection** active la récupération des statistiques de Centreon Broker par CentCore [ TODO Besoin d'explication à ce sujet]
* Le champ **Timeout value for Centcore commands** permet de définir un temps de timeout : Temps à ne pas dépasser lors de l'exportation des données vers les serveurs satellites si le temps est dépassée la connexion SSH est arretée

********
Couleurs
********

Cette partie permet de paramétrer les couleurs utilisées dans l'interface web pour définir les statuts des hôtes et des services.

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **Couleurs**

.. image :: /images/guide_exploitation/ecolors.png
   :align: center

Vous pouvez modifier une couleur en saisissant le code HTML de celle-ci ou en cliquant sur **Modifier**.

****
LDAP
****

Cette partie permet de configurer la connexion au(x) serveur(s) LDAP.

Pour ajouter un nouveau serveur LDAP :

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **LDAP**
#. Cliquez sur **Ajouter**

.. image :: /images/guide_exploitation/eldap.png
   :align: center

* Les champs **Nom de la configuration** et **Description** définissent le nom et la description du serveur LDAP
* Le champ **Activer l'authentification LDAP** permet d'activer l'authentification à travers le serveur LDAP
* Le champ **Sauvegarde du mot de passe LDAP** permet de stocker le mot de passe en base de données : utile si on perd la connexion vers le serveur LDAP
* Le champ **Import automatiques des utilisateurs** permet d'importer automatiquement les utilisateurs de l'annuaire LDAP dans Centreon. En cliquant sur **Importer les utilisateurs manuellement** vous pouvez choisir les utilisateurs que vous souhaitez importer
* Le champ **Taille limite de la recherche LDAP** permet de limiter la taille de la recherche des utilisateurs
* Le champ **Temps maximum d'exécution de la recherche LDAP** permet de définir un timeout pour l'exécution de la recherche LDAP
* Le champ **Modèle de contact** définit le modèle de contact à définir pour tous les utilisateurs importés depuis ce server LDAP
* Le champ **Utiliser le service DNS** indique s'il faut utiliser le serveur DNS pour résoudre l'adresse IP du serveur LDAP
* Le champ **LDAP servers** permet d'ajouter un ou plusieur serveurs LDAP vers lequel Centreon va se connecter.

Le tableau ci-dessous résume les différents paramètres à insérer pour ajouter un serveur LDAP :

+-------------------------+------------------------------------------------------------------------------------------------------------+
|   Colonne               |  Description                                                                                               | 
+=========================+============================================================================================================+
| Adresse du serveur      | Contient l'adresse IP ou nom DNS du serveur LDAP                                                           |
+-------------------------+------------------------------------------------------------------------------------------------------------+
| Port                    | Indique le port de connexion pour accéder à l'annuaire LDAP                                                |
+-------------------------+------------------------------------------------------------------------------------------------------------+
| SSL                     | Indique si le protocole SSL est utilisé pour la connexion au serveur                                       |
+-------------------------+------------------------------------------------------------------------------------------------------------+
| TLS                     | Indique si le protocole TLS est utilisé pour la connexion au serveur                                       |
+-------------------------+------------------------------------------------------------------------------------------------------------+

* Les champs **Utilisateur du domaine** et **Mot de passe** définissent le nom d'utilisateur et le mot de passe pour se connecter au serveur LDAP
* Le champ **Version du protocole** indique le protocole à utiliser pour se connecter
* La liste **Modèle** contient des modèles déjà prédéfinis pour filtrer les recherches à effectuer sur l'annuaire LDAP.

Si vous n'avez sélectionné aucun modèle, vous pouvez également définir les filtres de recherches manuellement en complétant les champs en-dessous.

*******
RRDTool
*******

Cette partie permet de configurer RRDTool et de configurer l'aspect des graphes.

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **RRDTool**

.. image :: /images/guide_exploitation/errdtool.png
   :align: center

* Le champ **Chemin complet de l'exécutable RRDTOOL** définit le chemin vers l'exécutable RRDTool
* Les champs appartenant aux catégories **Propriétés du titre**, **Propriétés de l'unité**, **Propriétés des axes**, **Propriétés de la légende**, **Propriété du filigrane** permettent de définir la police ainsi que la taille de la police pour la propriété sélectionnée
* Le champ **Activer RRDCached** active RRDcached
* Le champ **Port TCP** définit le port sur lequel écoute RRDcached
* Le champ **Unix Socket Path** [ TODO : chaine à traduire] définit le chemin vers le socket Unix

********
Debogage
********

Cette partie permet de configurer les options de débogage.

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **Débogage**

.. image :: /images/guide_exploitation/edebug.png
   :align: center

* Le champ **Répertoire d'enregistrement des journaux** définir le chemin où sera enregistré les logs
* La case **Enregistrer les authentifications** permet de logguer les authentifications
* La case **Débogage du moteur de supervision** active le débogage du moteur de supervision
* La case **Débogage RRDTool** active le débogage des RRDTools
* La case **Débogage de l'import d'utilisateurs LDAP** permet de déboguer l'importation des utilisateurs LDAP
* La case **Enregistrer les requêtes SQL** permet de loger les requêtes SQL
* La case **Débogage Centcore Engine** permet de déboguer Centreon Engine
* La case **Centstorage debug** [ TODO traduction à appliquer] permet de déboguer CentStorage
* La case **Centreontrapd debug** [ TODO traduction à appliquer] permet de déboguer Centreontrapd

***
CSS
***

Cette partie permet de configurer l'aspect des différents menus.

#. Rendez-vous dans **Administration** ==> **Options**
#. Dans le menu de gauche, cliquez sur **Options**
#. Cliquez sur **CSS**

.. image :: /images/guide_exploitation/ecss.png
   :align: center

Pour chaque menu, il est possible de définir une feuille de style CSS.
Exemples : Le fichier blue_css.php rendra le menu bleu. Le fichier green_css.php rendra le menu vert.